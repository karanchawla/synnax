---
layout: "@/layouts/MainLayout.astro"
title: "P&IDs"
description: "This page describes how to use the P&ID visualization in the Synnax Console."
---
import { Image } from "@/components/Media";
import { Video } from "@/components/Media";
import { Icon } from "@synnaxlabs/media";
import { Text } from "@synnaxlabs/pluto";

A P&ID is used to see a diagram of your physical or simulated system. It displays
live sensor data and be used to exercise manual control by changing the values of 
channels tied to actuators. We've added a simple example of a P&ID below.

<Image client:only="react" id="console/pid-intro"  />

## Creating a P&ID

Creating a P&ID is as simple as adding a new tab and selecting the P&ID visualization.

<Video client:only="react" id="console/pid-create-pid" />

## Modes

A P&ID has three modes: **view, edit, and control**. To change modes, use the controls
in the bottom left hand corner of the visualization.

In **edit mode**, symbols can be added, moved, and their properties can be edited.

In **view mode**, live data from the system is displayed on the P&ID. Symbols are not
editable and the user cannot affect the system state.

In **control mode**, the user can click on symbols such as valves and buttons to 
activate them.

## The Symbols Library

<Text.Text level="p"> To assemble a P&ID, drag symbols from the library onto the screen.
Symbols are visual representations of sensors, actuators, and other components on
your hardware system. If the library is not appearing in the bottom screen, make 
sure to click the visualization <Icon.Visualize/> icon in the bottom right corner. </Text.Text>

Synnax has a collection of built-in symbols including valves, live sensor values, buttons,
and tanks.

## Changing Symbol Properties

When selected, a symbol's properties will appear in the bottom toolbar. There are several
tabs that can be used to fine tune the look and behavior of the symbol.

### The Style Tab

The style tab on allows users to edit the symbol's label, size, orientation, color, and 
other visual properties. 

### The Telemetry Tab

The telemetry tab is available on symbols that receive data. After selecting a channel
from the dropdown, the P&ID will fetch and display the live data from that channel.

<Video client:only="react" id="console/pid-configure-value" />

For the value symbol, the telemetry tab has the following properties:

- **Input Channel** determines which channel to stream data from.
- **Precision** sets the number of decimal places to display.
- **Averaging Window** can be used to display a rolling average of the last N samples.
  For example, a value of 2 will cause the screen to display the average of the last 2
  samples

### The Control Tab

The control tab is available on symbols that can be actuated. Controllable symbols
have two main properties:

- **Input Channel** represents the display state of the symbol. If the input channel
has a value of 1, the symbol will be display as solid (except for normally open pneumatic valves).
- **Output Channel** will be written to when you click on the symbol. If the symbol is
de-activated, clicking on it will write 1 to the output channel (an activation command).
If the symbol is activated, clicking on it will write 0 to the output channel (a deactivation
command).

## Connection Lines

Every symbol has locations to attach connection lines. When hovering over an
symbol, these attachement points appear. To draw a connection line, click on an attachement
point and drag the line to a different symbol.

<Video client:only="react" id="console/pid-draw-conn" />

## Aligning Elements

To align elements, create a selection box by clicking and dragging on the canvas. Then,
use the vertical or horizontal alignment buttons to align the selected elements.

<Video client:only="react" id="console/pid-align-items" />

## Changing Colors

You can also change the color of multiple symbols together in the same manner.

<Video client:only="react" id="console/pid-change-color" />

## Control mode

In control mode, you can interact with the P&ID to control the system. By clicking
on a controllable element, such as a valve, switch, or button, you send a value to its 
output channel.

The circle on the element shows what is in control. If the circle is blue, the current PID
view has control. If the circle is green, the current PID view has absolute
control. If the circle is red, the current PID view does not have control as the
element is part of an automated sequence or controlled by another PID view.

The color of the bar indicates what is controlling the elements on the PID.
There is a legend on the display indicating what controlling node is what color.

<Video client:only="react" id="console/pid-command-valve" />
